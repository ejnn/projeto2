(this.webpackJsonpprojeto2=this.webpackJsonpprojeto2||[]).push([[0],{122:function(e,t,c){},1411:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(0),s=c.n(n),o=c(12),r=c.n(o),i=(c(122),c(6)),l=c(71),j=c(29),d=c.n(j),b=function(e){return new Intl.NumberFormat("pt-BR",{useGrouping:!1,minimumIntegerDigits:e})},u=function(e){return Math.floor(Math.random()*Math.floor(e))};var x=c(63),h=c(16),O=c(19),m=c(107),f=c(1457),p=c(1451),g=c(1458),y=c(1440),v=c(24),C=c(13),k=c(1442),N=c(1447),T=c(1448),w=c(62),B=c.n(w),P=c(1449),I=c(1456),S=c(1446),D=(c(1400),c(1401),{fonts:{headline:{"font-family":"Montserrat","font-size":"24px","font-style":"normal","font-weight":"400"},title:{"font-family":"Montserrat","font-size":"20px","font-style":"normal","font-weight":"400"},subtitle:{"font-family":"Montserrat","font-size":"14px","font-style":"bold","font-weight":"700"},body:{"font-family":"Montserrat","font-size":"16px","font-style":"normal","font-weight":"400"},buttonLabel:{"font-family":"Montserrat","font-size":"14px","font-style":"bold","font-weight":"700"}},colors:{primary:"#005b85",black87:"#212121",black54:"#757575",black38:"#9E9E9E"}}),L=Object(y.a)({addButton:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{color:"white"}),keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54}),valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),textField:{"& .MuiInputBase-root":Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),"& .MuiFormLabel-root":Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54})}}),F=function(e){var t=e.keyText,c=e.items,s=e.pushButtonLabel,o=e.push,r=L(),i=Object(n.useState)(""),l=Object(O.a)(i,2),j=l[0],d=l[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(k.a,{item:!0,xs:5,children:[Object(a.jsx)(m.a,{className:r.keyText,children:t}),Object(a.jsx)(k.a,{container:!0,spacing:1,children:c.map((function(e){return Object(a.jsx)(k.a,{item:!0,xs:6,children:Object(a.jsx)(m.a,{className:r.valueText,children:e})},e)}))})]}),Object(a.jsx)(k.a,{item:!0,xs:7}),Object(a.jsx)(k.a,{item:!0,xs:5,children:Object(a.jsx)(I.a,{className:r.textField,value:j,onChange:function(e){d(e.target.value)},fullWidth:!0,label:s})}),Object(a.jsx)(k.a,{item:!0,xs:2,children:Object(a.jsx)(S.a,{className:r.addButton,onClick:function(){o(j),d("")},variant:"contained",children:"adicionar"})}),Object(a.jsx)(k.a,{item:!0,xs:5})]})},W=Object(y.a)({cardTitle:Object(i.a)(Object(i.a)({},D.fonts.title),{},{color:D.colors.black87,paddingBottom:"0"}),keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54}),valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),textField:{"& .MuiInputBase-root":Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),"& .MuiFormLabel-root":Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54})},closeButton:{fill:D.colors.black54,position:"absolute",right:"0",top:"0"},addButton:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{color:"white"}),saveButton:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{backgroundColor:D.colors.primary,color:"white"}),formCard:{position:"relative","&.MuiPaper-root":{overflow:"auto"}}}),M=function(e){var t=e.process,c=e.onClose,s=W(),o=Object(n.useState)(t||{assunto:"",interessados:[],descricao:""}),r=Object(O.a)(o,2),l=r[0],j=r[1],d=function(e){j((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(C.a)({},e.target.name,e.target.value))}))};return Object(a.jsx)(N.a,{className:s.formCard,children:Object(a.jsxs)(T.a,{className:s.cardContent,children:[Object(a.jsx)(P.a,{className:s.closeButton,onClick:c,children:Object(a.jsx)(B.a,{})}),Object(a.jsxs)(k.a,{container:!0,spacing:2,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsx)(m.a,{className:s.cardTitle,children:"Cadastro de processo"})}),Object(a.jsx)(k.a,{item:!0,xs:5,children:Object(a.jsx)(I.a,{className:s.textField,value:l.assunto,name:"assunto",onChange:d,fullWidth:!0,multiline:!0,label:"Assunto"})}),Object(a.jsx)(k.a,{item:!0,xs:7}),Object(a.jsx)(F,{keyText:"Interessados",items:l.interessados,pushButtonLabel:"Novo interessado",push:function(e){j((function(t){return Object(i.a)(Object(i.a)({},t),{},{interessados:[].concat(Object(v.a)(t.interessados),[e])})}))}}),Object(a.jsx)(k.a,{item:!0,xs:10,children:Object(a.jsx)(I.a,{className:s.textField,value:l.descricao,name:"descricao",onChange:d,fullWidth:!0,label:"Descri\xe7\xe3o",multiline:!0})}),Object(a.jsx)(k.a,{item:!0,xs:2}),new Array(2).fill(Object(a.jsx)(k.a,{item:!0,xs:12})),Object(a.jsx)(k.a,{item:!0,xs:10}),Object(a.jsx)(k.a,{item:!0,xs:2,children:Object(a.jsx)(S.a,{className:s.saveButton,onClick:function(){var e={};Object.keys(l).forEach((function(c){"undefined"!=typeof t&&l[c]===t[c]||(e[c]=l[c])}));var a={headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};"undefined"==typeof t?(a.method="POST",fetch("/processo/",a)):(a.method="PATCH",fetch("/processo/"+t.id,a)),c()},variant:"contained",fullWidth:!0,children:"salvar"})})]})]})})},E=c(1444),q=c(1450),A=c(105),R=c.n(A),z=Object(y.a)({searchIcon:{fill:D.colors.black54},searchInput:Object(i.a)({},D.fonts.body),searchCard:{padding:"8px","&:last-child":{paddingBottom:"8px"}}}),H=function(e){var t=e.query,c=e.onChange,n=e.inputRef,s=z();return Object(a.jsx)(N.a,{children:Object(a.jsx)(T.a,{className:s.searchCard,children:Object(a.jsx)(E.a,{className:s.searchInput,inputRef:n,value:t,onChange:c,fullWidth:!0,disableUnderline:!0,placeholder:"Pesquise por uma informa\xe7\xe3o do processo",endAdornment:Object(a.jsx)(q.a,{children:Object(a.jsx)(R.a,{className:s.searchIcon})})})})})},J=Object(y.a)({pageTitle:Object(i.a)(Object(i.a)({},D.fonts.headline),{},{color:D.colors.primary}),pageSubtitle:Object(i.a)({},D.fonts.body),newProcessLink:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.primary,textDecoration:"underline",fontWeight:"bold"})}),G=function(e){Object.assign({},e);var t=J(),c=Object(n.useState)(!1),s=Object(O.a)(c,2),o=s[0],r=s[1],i=function(){r(!1)};return Object(a.jsxs)(f.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",minHeight:"100vh",children:[Object(a.jsx)(m.a,{className:t.pageTitle,children:"Busca de processos"}),Object(a.jsx)(f.a,{height:"32px"}),Object(a.jsx)(f.a,{width:"464px",children:Object(a.jsx)(x.b,{to:"/consulta",children:Object(a.jsx)(H,{})})}),Object(a.jsx)(f.a,{height:"64px"}),Object(a.jsxs)(m.a,{className:t.pageSubtitle,children:["Voc\xea pode criar um novo processo ",Object(a.jsx)(p.a,{className:t.newProcessLink,onClick:function(){r(!0)},component:"span",children:"clicando aqui"}),"."]}),Object(a.jsx)(g.a,{open:o,onClose:i,children:Object(a.jsx)(f.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",m:8,children:Object(a.jsx)(M,{onClose:i})})})]})},V=c(1445),Y=c(1455),U=c(1461),K=c(1454),Q=c(1460),X=c(1453),Z=c(1459),$=c.p+"static/media/imagemProcesso.b4556f0d.svg",_=Object(y.a)({valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87,textTransform:"none"}),keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54,textTransform:"none"}),highlightedText:{color:D.colors.primary},highlightedCard:{outline:"1px solid "+D.colors.primary},processCardContents:{padding:16,"&:last-child":{paddingBottom:16}},placeholderImage:{width:"100%",maxWidth:"84px"},processCard:{width:"100%"}}),ee=function(e){var t=e.process,c=e.shortened,n=e.highlighted,s=_(),o=function(e,t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{className:"".concat(s.keyText," ").concat(n?s.highlightedText:""),children:e}),Object(a.jsx)(m.a,{noWrap:!0,className:"".concat(s.valueText," ").concat(n?s.highlightedText:""),children:t})]})};return Object(a.jsx)(N.a,{className:"".concat(n?s.highlightedCard:""," ").concat(s.processCard),children:Object(a.jsx)(T.a,{className:s.processCardContents,children:Object(a.jsxs)(k.a,{container:!0,spacing:1,alignItems:"center",children:[c?null:Object(a.jsx)(k.a,{item:!0,xs:2,children:Object(a.jsx)(f.a,{display:"flex",children:Object(a.jsx)("img",{className:s.placeholderImage,src:$,alt:"Placeholder"})})}),Object(a.jsxs)(k.a,{item:!0,container:!0,spacing:1,alignItems:"center",xs:10,children:[Object(a.jsx)(k.a,{item:!0,xs:c?6:3,children:o("N\xfamero",t.numero)}),Object(a.jsx)(k.a,{item:!0,xs:c?6:3,children:o("Assunto",t.assunto)}),Object(a.jsx)(k.a,{item:!0,xs:c?6:3,children:o("Interessado",t.interessados[0])}),c?null:Object(a.jsx)(k.a,{item:!0,xs:3,children:o("Descri\xe7\xe3o",t.descricao)})]})]})})})},te=c(1452),ce=Object(y.a)({keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54}),headerValueText:Object(i.a)(Object(i.a)({},D.fonts.title),{},{color:D.colors.black87}),valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),detailedPlaceholderImage:{width:"100%",maxWidth:"120px"},closeButton:{fill:D.colors.black54,position:"absolute",right:"0",top:"0"},removeButton:{color:D.colors.black54},editButton:{color:D.colors.primary,border:"1px solid "+D.colors.primary},cardContent:{position:"relative"},cardActions:{justifyContent:"flex-end"},buttonLabel:Object(i.a)({},D.fonts.buttonLabel)}),ae=function(e){var t=e.process,c=e.onClose,n=e.onDelete,s=e.onEdit,o=ce(),r=function(e,t,c){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.a,{className:o.keyText,children:e}),Object(a.jsx)(m.a,{noWrap:!0,className:c?o.headerValueText:o.valueText,children:t})]})};return Object(a.jsxs)(N.a,{children:[Object(a.jsxs)(T.a,{className:o.cardContent,children:[Object(a.jsx)(P.a,{className:o.closeButton,onClick:c,children:Object(a.jsx)(B.a,{})}),Object(a.jsxs)(k.a,{container:!0,spacing:2,children:[Object(a.jsxs)(k.a,{item:!0,container:!0,spacing:2,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:4,children:Object(a.jsx)(f.a,{display:"flex",children:Object(a.jsx)("img",{className:o.detailedPlaceholderImage,src:$,alt:"Placeholder"})})}),Object(a.jsx)(k.a,{item:!0,xs:8,children:Object(a.jsxs)(k.a,{item:!0,container:!0,alignContent:"center",spacing:2,children:[Object(a.jsx)(k.a,{item:!0,xs:6,children:r("Processo",t.numero,"header")}),Object(a.jsx)(k.a,{item:!0,xs:6,children:r("Data",t.entrada,"header")}),Object(a.jsx)(k.a,{item:!0,xs:12,children:r("Assunto",t.assunto,"header")})]})})]}),Object(a.jsxs)(k.a,{item:!0,container:!0,spacing:1,xs:12,children:[Object(a.jsxs)(k.a,{item:!0,xs:12,children:[Object(a.jsx)(m.a,{className:o.keyText,children:"Interessados"}),Object(a.jsx)(k.a,{container:!0,children:t.interessados.map((function(e){return Object(a.jsx)(k.a,{item:!0,xs:6,children:Object(a.jsx)(m.a,{className:o.valueText,children:e})},e)}))})]}),Object(a.jsxs)(k.a,{item:!0,xs:12,children:[Object(a.jsx)(m.a,{className:o.keyText,children:"Descri\xe7\xe3o"}),Object(a.jsx)(m.a,{className:o.valueText,children:t.descricao})]})]})]})]}),Object(a.jsxs)(te.a,{className:o.cardActions,children:[Object(a.jsx)(S.a,{className:o.removeButton,variant:"outlined",onClick:n,children:Object(a.jsx)(m.a,{className:o.buttonLabel,children:"Remover"})}),Object(a.jsx)(S.a,{className:o.editButton,variant:"outlined",onClick:s,children:Object(a.jsx)(m.a,{className:o.buttonLabel,children:"Editar"})})]})]})},ne=Object(y.a)({headerText:Object(i.a)(Object(i.a)({},D.fonts.title),{},{color:D.colors.black87}),snackbarText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:"white"}),toggleButton:{padding:"0",margin:"8px 0",border:"none","&.MuiToggleButton-root":{"&.Mui-selected":{color:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)"},"&:hover":{color:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)",outline:"1px solid "+D.colors.primary}}},listItem:{padding:"0",margin:"0"},toggleButtonGroup:{display:"flex"},pageContent:{margin:"16px 8px",maxHeight:"100vh"},list:{maxHeight:"80vh",overflow:"auto",padding:"0 4px 0 1px"},processDetailsWrapper:{height:"100%",maxHeight:"80vh",padding:"8px 2px",overflow:"auto"},grid:{padding:"0"},deletionSnackbar:{backgroundColor:D.colors.black54,color:"white",padding:"0 4px",maxWidth:"12vw",borderRadius:"4px"},mainContentWrapper:{maxHeight:"80vh",overflow:"auto"},buttonLabel:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{color:D.colors.black38}),queryProgressWrapper:{height:"80vh"},queryProgress:{color:D.colors.black38}}),se=function(e){Object.assign({},e);var t=ne(),c=Object(n.useRef)(null);Object(n.useEffect)((function(){c.current.focus()}),[]);var s=Object(n.useState)(""),o=Object(O.a)(s,2),r=o[0],l=o[1],j=Object(n.useState)([]),d=Object(O.a)(j,2),b=d[0],u=d[1];Object(n.useEffect)((function(){if(y){var e=y.id,t=b.find((function(t){return t.id==e}));t&&v(t)}}),[b]),Object(n.useEffect)((function(){x()}),[r]);var x=function(){E(!0),fetch("/processo/?q="+r).then((function(e){return e.json()})).then((function(e){return u(e.processos)})).then((function(){return E(!1)}))},h=Object(n.useState)(null),p=Object(O.a)(h,2),y=p[0],v=p[1],N=function(){v(null)},T=Object(n.useState)({newProcess:!1,editProcess:!1,deletionSnackbar:!1}),w=Object(O.a)(T,2),B=w[0],P=w[1],I=function(e){P((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(C.a)({},e,!0))}))},D=function(e){P((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(C.a)({},e,!1))}))},L=Object(n.useState)(!1),F=Object(O.a)(L,2),W=F[0],E=F[1];return Object(a.jsx)(f.a,{className:t.pageContent,children:Object(a.jsxs)(k.a,{className:t.grid,container:!0,spacing:2,children:[Object(a.jsxs)(k.a,{item:!0,container:!0,alignItems:"center",spacing:2,children:[Object(a.jsx)(k.a,{item:!0,xs:2,lg:2,children:Object(a.jsx)(m.a,{className:t.headerText,align:"center",children:"Busca de processos"})}),Object(a.jsx)(k.a,{item:!0,xs:7,lg:4,children:Object(a.jsx)(H,{inputRef:c,query:r,onChange:function(e){l(e.target.value)}})}),Object(a.jsxs)(k.a,{item:!0,xs:2,lg:2,children:[Object(a.jsx)(S.a,{onClick:function(){return I("newProcess")},fullWidth:!0,variant:"outlined",children:Object(a.jsx)(m.a,{className:t.buttonLabel,align:"center",children:"Novo"})}),Object(a.jsx)(g.a,{open:B.newProcess,onClose:function(){return D("newProcess")},children:Object(a.jsx)(f.a,{className:t.mainContentWrapper,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",alignContent:"center",m:8,children:Object(a.jsx)(M,{onClose:function(){D("newProcess"),x()}})})})]})]}),Object(a.jsx)(k.a,{item:!0,xs:!1,lg:2}),Object(a.jsx)(k.a,{item:!0,xs:y?5:8,lg:y?4:8,children:W?Object(a.jsx)(f.a,{className:t.queryProgressWrapper,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",children:Object(a.jsx)(X.a,{className:t.queryProgress,size:"40%"})}):Object(a.jsx)(V.a,{className:t.list,children:Object(a.jsx)(U.a,{className:t.toggleButtonGroup,value:y,onChange:function(e,t){v(t)},exclusive:!0,orientation:"vertical",children:b.map((function(e){return Object(a.jsx)(K.a,{className:t.toggleButton,value:e,children:Object(a.jsx)(Y.a,{className:t.listItem,disableGutters:!0,children:Object(a.jsx)(ee,{shortened:!!y,highlighted:!!y&&y.id==e.id,process:e})})},e.id)}))})})}),y?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Z.a,{in:!!y,children:Object(a.jsx)(k.a,{item:!0,xs:6,lg:5,children:Object(a.jsx)(f.a,{className:t.processDetailsWrapper,children:Object(a.jsx)(ae,{process:y,onClose:N,onDelete:function(){fetch("/processo/"+y.id,{method:"DELETE"}).then(N).then((function(){return I("deletionSnackbar")})).then(x)},onEdit:function(){return I("editProcess")}})})})}),Object(a.jsx)(g.a,{open:B.editProcess,onClose:function(){return D("editProcess")},children:Object(a.jsx)(f.a,{className:t.mainContentWrapper,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",alignContent:"center",m:8,children:Object(a.jsx)(M,{process:y,onClose:function(){D("editProcess"),x()}})})})]}):null,Object(a.jsx)(Q.a,{className:t.deletionSnackbar,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:B.deletionSnackbar,onClose:function(){return D("deletionSnackbar")},children:Object(a.jsx)(f.a,{className:t.deletionSnackbar,children:Object(a.jsx)(m.a,{className:t.snackbarText,align:"center",children:"Processo removido"})})})]})})};Object(l.c)({models:{processo:l.b},factories:{processo:l.a.extend({numero:function(){return"SOFT "+new Date(d.a.date.past()).getFullYear().toString()+"/"+b(5).format(d.a.random.number())},entrada:function(){return new Date(d.a.date.past()).toLocaleDateString("pt-BR")},descricao:function(){return d.a.random.words(u(60)+60)},assunto:function(){return d.a.random.words(u(5)+2)},interessados:function(){return new Array(u(6)+1).fill(1).map((function(){return d.a.name.findName()}))}})},routes:function(){this.post("/processo",(function(e,t){var c=JSON.parse(t.requestBody);return e.processos.create(Object(i.a)(Object(i.a)({},c),{},{numero:"SOFT "+new Date(d.a.date.past()).getFullYear().toString()+"/"+b(5).format(d.a.random.number()),entrada:new Date(d.a.date.past()).toLocaleDateString("pt-BR")}))})),this.get("/processo/:id",(function(e,t){return e.processos.find(t.params.id)})),this.get("/processo",(function(e,t){var c=t.queryParams.q;return e.processos.where((function(e){return Object.values(e).some((function(e){return e.includes(c)}))}))})),this.delete("/processo/:id",(function(e,t){return e.processos.find(t.params.id).destroy()})),this.patch("/processo/:id",(function(e,t){var c=JSON.parse(t.requestBody);return e.processos.find(t.params.id).update(c)}))},seeds:function(e){e.createList("processo",u(40))}});var oe=function(){return Object(a.jsx)(x.a,{children:Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{path:"/consulta",children:Object(a.jsx)(se,{})}),Object(a.jsx)(h.a,{children:Object(a.jsx)(G,{})})]})})},re=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,1463)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),s(e),o(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(oe,{})}),document.getElementById("root")),re()}},[[1411,1,2]]]);
//# sourceMappingURL=main.13be7669.chunk.js.map
(this.webpackJsonpprojeto2=this.webpackJsonpprojeto2||[]).push([[0],{122:function(e,t,n){},1410:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),s=n.n(a),o=n(12),r=n.n(o),i=(n(122),n(7)),l=n(71),j=n(29),d=n.n(j),b=function(e){return new Intl.NumberFormat("pt-BR",{useGrouping:!1,minimumIntegerDigits:e})},u=function(e){return Math.floor(Math.random()*Math.floor(e))};var x=n(63),h=n(16),O=n(20),m=n(107),f=n(1456),p=n(1450),g=n(1457),v=n(1439),C=n(24),y=n(13),N=n(1441),k=n(1446),T=n(1447),w=n(62),B=n.n(w),P=n(1448),S=n(1455),I=n(1445),D=(n(1400),{fonts:{headline:{"font-family":"Montserrat","font-size":"24px","font-weight":"normal"},title:{"font-family":"Montserrat","font-size":"20px","font-weight":"normal"},subtitle:{"font-family":"Montserrat","font-size":"14px","font-weight":"bold"},body:{"font-family":"Montserrat","font-size":"16px","font-weight":"normal"},buttonLabel:{"font-family":"Montserrat","font-size":"14px","font-weight":"bold"}},colors:{primary:"#005b85",black87:"#212121",black54:"#757575",black38:"#9E9E9E"}}),L=Object(v.a)({cardTitle:Object(i.a)(Object(i.a)({},D.fonts.title),{},{color:D.colors.black87,paddingBottom:"0"}),keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54}),valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),textField:{"& .MuiInputBase-root":Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),"& .MuiFormLabel-root":Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54})},closeButton:{fill:D.colors.black54,position:"absolute",right:"0",top:"0"},addButton:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{color:"white"}),saveButton:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{backgroundColor:D.colors.primary,color:"white"}),formCard:{position:"relative","&.MuiPaper-root":{overflow:"auto"}}}),W=function(e){var t=e.process,n=e.onClose,s=L(),o=Object(a.useState)(t||{assunto:"",interessados:[],descricao:""}),r=Object(O.a)(o,2),l=r[0],j=r[1],d=function(e){j((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(y.a)({},e.target.name,e.target.value))}))},b=function(e){var t=e.keyText,n=e.items,o=e.pushButtonLabel,r=e.push,i=Object(a.useState)(""),l=Object(O.a)(i,2),j=l[0],d=l[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(N.a,{item:!0,xs:5,children:[Object(c.jsx)(m.a,{className:s.keyText,children:t}),Object(c.jsx)(N.a,{container:!0,spacing:1,children:n.map((function(e){return Object(c.jsx)(N.a,{item:!0,xs:6,children:Object(c.jsx)(m.a,{className:s.valueText,children:e})},e)}))})]}),Object(c.jsx)(N.a,{item:!0,xs:7}),Object(c.jsx)(N.a,{item:!0,xs:5,children:Object(c.jsx)(S.a,{value:j,onChange:function(e){d(e.target.value)},fullWidth:!0,label:o})}),Object(c.jsx)(N.a,{item:!0,xs:2,children:Object(c.jsx)(I.a,{className:s.addButton,onClick:function(){r(j),d("")},variant:"contained",children:"adicionar"})}),Object(c.jsx)(N.a,{item:!0,xs:5})]})};return Object(c.jsx)(k.a,{className:s.formCard,children:Object(c.jsxs)(T.a,{className:s.cardContent,children:[Object(c.jsx)(P.a,{className:s.closeButton,onClick:n,children:Object(c.jsx)(B.a,{})}),Object(c.jsxs)(N.a,{container:!0,spacing:2,alignItems:"center",children:[Object(c.jsx)(N.a,{item:!0,xs:12,children:Object(c.jsx)(m.a,{className:s.cardTitle,children:"Cadastro de processo"})}),Object(c.jsx)(N.a,{item:!0,xs:5,children:Object(c.jsx)(S.a,{className:s.textField,value:l.assunto,name:"assunto",onChange:d,fullWidth:!0,multiline:!0,label:"Assunto"})}),Object(c.jsx)(N.a,{item:!0,xs:7}),Object(c.jsx)(b,{keyText:"Interessados",items:l.interessados,pushButtonLabel:"Novo interessado",push:function(e){j((function(t){return Object(i.a)(Object(i.a)({},t),{},{interessados:[].concat(Object(C.a)(t.interessados),[e])})}))}}),Object(c.jsx)(N.a,{item:!0,xs:10,children:Object(c.jsx)(S.a,{className:s.textField,value:l.descricao,name:"descricao",onChange:d,fullWidth:!0,label:"Descri\xe7\xe3o",multiline:!0})}),Object(c.jsx)(N.a,{item:!0,xs:2}),new Array(2).fill(Object(c.jsx)(N.a,{item:!0,xs:12})),Object(c.jsx)(N.a,{item:!0,xs:10}),Object(c.jsx)(N.a,{item:!0,xs:2,children:Object(c.jsx)(I.a,{className:s.saveButton,onClick:function(){var e={};Object.keys(l).forEach((function(n){"undefined"!=typeof t&&l[n]===t[n]||(e[n]=l[n])}));var c={headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};"undefined"==typeof t?(c.method="POST",fetch("/processo/",c)):(c.method="PATCH",fetch("/processo/"+t.id,c)),n()},variant:"contained",fullWidth:!0,children:"salvar"})})]})]})})},F=n(1443),E=n(1449),M=n(105),q=n.n(M),A=Object(v.a)({searchIcon:{fill:D.colors.black54},searchInput:Object(i.a)({},D.fonts.body),searchCard:{padding:"8px","&:last-child":{paddingBottom:"8px"}}}),R=function(e){var t=e.query,n=e.onChange,a=e.inputRef,s=A();return Object(c.jsx)(k.a,{children:Object(c.jsx)(T.a,{className:s.searchCard,children:Object(c.jsx)(F.a,{className:s.searchInput,inputRef:a,value:t,onChange:n,fullWidth:!0,disableUnderline:!0,placeholder:"Pesquise por uma informa\xe7\xe3o do processo",endAdornment:Object(c.jsx)(E.a,{children:Object(c.jsx)(q.a,{className:s.searchIcon})})})})})},z=Object(v.a)({pageTitle:Object(i.a)(Object(i.a)({},D.fonts.headline),{},{color:D.colors.primary}),pageSubtitle:Object(i.a)({},D.fonts.body),newProcessLink:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.primary,textDecoration:"underline",fontWeight:"bold"})}),H=function(e){Object.assign({},e);var t=z(),n=Object(a.useState)(!1),s=Object(O.a)(n,2),o=s[0],r=s[1],i=function(){r(!1)};return Object(c.jsxs)(f.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",minHeight:"100vh",children:[Object(c.jsx)(m.a,{className:t.pageTitle,children:"Busca de processos"}),Object(c.jsx)(f.a,{height:"32px"}),Object(c.jsx)(f.a,{width:"464px",children:Object(c.jsx)(x.b,{to:"/consulta",children:Object(c.jsx)(R,{})})}),Object(c.jsx)(f.a,{height:"64px"}),Object(c.jsxs)(m.a,{className:t.pageSubtitle,children:["Voc\xea pode criar um novo processo ",Object(c.jsx)(p.a,{className:t.newProcessLink,onClick:function(){r(!0)},component:"span",children:"clicando aqui"}),"."]}),Object(c.jsx)(g.a,{open:o,onClose:i,children:Object(c.jsx)(f.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",m:8,children:Object(c.jsx)(W,{onClose:i})})})]})},J=n(1444),G=n(1454),V=n(1460),Y=n(1453),U=n(1459),K=n(1452),Q=n(1458),X=n.p+"static/media/imagemProcesso.b4556f0d.svg",Z=Object(v.a)({valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87,textTransform:"none"}),keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54,textTransform:"none"}),highlightedText:{color:D.colors.primary},highlightedCard:{outline:"1px solid "+D.colors.primary},processCardContents:{padding:16,"&:last-child":{paddingBottom:16}},placeholderImage:{width:"100%",maxWidth:"84px"},processCard:{width:"100%"}}),$=function(e){var t=e.process,n=e.shortened,a=e.highlighted,s=Z(),o=function(e,t){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,{className:"".concat(s.keyText," ").concat(a?s.highlightedText:""),children:e}),Object(c.jsx)(m.a,{noWrap:!0,className:"".concat(s.valueText," ").concat(a?s.highlightedText:""),children:t})]})};return Object(c.jsx)(k.a,{className:"".concat(a?s.highlightedCard:""," ").concat(s.processCard),children:Object(c.jsx)(T.a,{className:s.processCardContents,children:Object(c.jsxs)(N.a,{container:!0,spacing:1,alignItems:"center",children:[n?null:Object(c.jsx)(N.a,{item:!0,xs:2,children:Object(c.jsx)(f.a,{display:"flex",children:Object(c.jsx)("img",{className:s.placeholderImage,src:X,alt:"Placeholder"})})}),Object(c.jsxs)(N.a,{item:!0,container:!0,spacing:1,alignItems:"center",xs:10,children:[Object(c.jsx)(N.a,{item:!0,xs:n?6:3,children:o("N\xfamero",t.numero)}),Object(c.jsx)(N.a,{item:!0,xs:n?6:3,children:o("Assunto",t.assunto)}),Object(c.jsx)(N.a,{item:!0,xs:n?6:3,children:o("Interessado",t.interessados[0])}),n?null:Object(c.jsx)(N.a,{item:!0,xs:3,children:o("Descri\xe7\xe3o",t.descricao)})]})]})})})},_=n(1451),ee=Object(v.a)({keyText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:D.colors.black54}),headerValueText:Object(i.a)(Object(i.a)({},D.fonts.title),{},{color:D.colors.black87}),valueText:Object(i.a)(Object(i.a)({},D.fonts.body),{},{color:D.colors.black87}),detailedPlaceholderImage:{width:"100%",maxWidth:"120px"},closeButton:{fill:D.colors.black54,position:"absolute",right:"0",top:"0"},removeButton:{color:D.colors.black54},editButton:{color:D.colors.primary,border:"1px solid "+D.colors.primary},cardContent:{position:"relative"},cardActions:{justifyContent:"flex-end"}}),te=function(e){var t=e.process,n=e.onClose,a=e.onDelete,s=e.onEdit,o=ee(),r=function(e,t,n){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,{className:o.keyText,children:e}),Object(c.jsx)(m.a,{noWrap:!0,className:n?o.headerValueText:o.valueText,children:t})]})};return Object(c.jsxs)(k.a,{children:[Object(c.jsxs)(T.a,{className:o.cardContent,children:[Object(c.jsx)(P.a,{className:o.closeButton,onClick:n,children:Object(c.jsx)(B.a,{})}),Object(c.jsxs)(N.a,{container:!0,spacing:2,children:[Object(c.jsxs)(N.a,{item:!0,container:!0,spacing:2,alignItems:"center",children:[Object(c.jsx)(N.a,{item:!0,xs:4,children:Object(c.jsx)(f.a,{display:"flex",children:Object(c.jsx)("img",{className:o.detailedPlaceholderImage,src:X,alt:"Placeholder"})})}),Object(c.jsx)(N.a,{item:!0,xs:8,children:Object(c.jsxs)(N.a,{item:!0,container:!0,alignContent:"center",spacing:2,children:[Object(c.jsx)(N.a,{item:!0,xs:6,children:r("Processo",t.numero,"header")}),Object(c.jsx)(N.a,{item:!0,xs:6,children:r("Data",t.entrada,"header")}),Object(c.jsx)(N.a,{item:!0,xs:12,children:r("Assunto",t.assunto,"header")})]})})]}),Object(c.jsxs)(N.a,{item:!0,container:!0,spacing:1,xs:12,children:[Object(c.jsxs)(N.a,{item:!0,xs:12,children:[Object(c.jsx)(m.a,{className:o.keyText,children:"Interessados"}),Object(c.jsx)(N.a,{container:!0,children:t.interessados.map((function(e){return Object(c.jsx)(N.a,{item:!0,xs:6,children:Object(c.jsx)(m.a,{className:o.valueText,children:e})},e)}))})]}),Object(c.jsxs)(N.a,{item:!0,xs:12,children:[Object(c.jsx)(m.a,{className:o.keyText,children:"Descri\xe7\xe3o"}),Object(c.jsx)(m.a,{className:o.valueText,children:t.descricao})]})]})]})]}),Object(c.jsxs)(_.a,{className:o.cardActions,children:[Object(c.jsx)(I.a,{className:o.removeButton,variant:"outlined",onClick:a,children:Object(c.jsx)(m.a,{className:o.buttonLabel,children:"Remover"})}),Object(c.jsx)(I.a,{className:o.editButton,variant:"outlined",onClick:s,children:Object(c.jsx)(m.a,{className:o.buttonLabel,children:"Editar"})})]})]})},ne=Object(v.a)({headerText:Object(i.a)(Object(i.a)({},D.fonts.title),{},{color:D.colors.black87}),snackbarText:Object(i.a)(Object(i.a)({},D.fonts.subtitle),{},{color:"white"}),toggleButton:{padding:"0",margin:"8px 0",border:"none","&.MuiToggleButton-root":{"&.Mui-selected":{color:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)"},"&:hover":{color:"rgba(0,0,0,0)",backgroundColor:"rgba(0,0,0,0)",outline:"1px solid "+D.colors.primary}}},listItem:{padding:"0",margin:"0"},toggleButtonGroup:{display:"flex"},pageContent:{margin:"16px 8px",maxHeight:"100vh"},list:{maxHeight:"80vh",overflow:"auto",padding:"0 4px 0 1px"},processDetailsWrapper:{height:"100%",maxHeight:"80vh",padding:"8px 2px",overflow:"auto"},grid:{padding:"0"},deletionSnackbar:{backgroundColor:D.colors.black54,color:"white",padding:"0 4px",maxWidth:"12vw",borderRadius:"4px"},mainContentWrapper:{maxHeight:"80vh",overflow:"auto"},buttonLabel:Object(i.a)(Object(i.a)({},D.fonts.buttonLabel),{},{color:D.colors.black87}),queryProgressWrapper:{height:"80vh"},queryProgress:{color:D.colors.black38}}),ce=function(e){Object.assign({},e);var t=ne(),n=Object(a.useRef)(null);Object(a.useEffect)((function(){n.current.focus()}),[]);var s=Object(a.useState)(""),o=Object(O.a)(s,2),r=o[0],l=o[1],j=Object(a.useState)([]),d=Object(O.a)(j,2),b=d[0],u=d[1];Object(a.useEffect)((function(){if(v){var e=v.id,t=b.find((function(t){return t.id==e}));t&&C(t)}}),[b]),Object(a.useEffect)((function(){x()}),[r]);var x=function(){M(!0),fetch("/processo/?q="+r).then((function(e){return e.json()})).then((function(e){return u(e.processos)})).then((function(){return M(!1)}))},h=Object(a.useState)(null),p=Object(O.a)(h,2),v=p[0],C=p[1],k=function(){C(null)},T=Object(a.useState)({newProcess:!1,editProcess:!1,deletionSnackbar:!1}),w=Object(O.a)(T,2),B=w[0],P=w[1],S=function(e){P((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(y.a)({},e,!0))}))},D=function(e){P((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(y.a)({},e,!1))}))},L=Object(a.useState)(!1),F=Object(O.a)(L,2),E=F[0],M=F[1];return Object(c.jsx)(f.a,{className:t.pageContent,children:Object(c.jsxs)(N.a,{className:t.grid,container:!0,spacing:2,children:[Object(c.jsxs)(N.a,{item:!0,container:!0,alignItems:"center",spacing:2,children:[Object(c.jsx)(N.a,{item:!0,xs:2,lg:2,children:Object(c.jsx)(m.a,{className:t.headerText,align:"center",children:"Busca de processos"})}),Object(c.jsx)(N.a,{item:!0,xs:7,lg:4,children:Object(c.jsx)(R,{inputRef:n,query:r,onChange:function(e){l(e.target.value)}})}),Object(c.jsxs)(N.a,{item:!0,xs:2,lg:2,children:[Object(c.jsx)(I.a,{onClick:function(){return S("newProcess")},fullWidth:!0,variant:"outlined",children:Object(c.jsx)(m.a,{className:t.buttonLabel,align:"center",children:"Novo"})}),Object(c.jsx)(g.a,{open:B.newProcess,onClose:function(){return D("newProcess")},children:Object(c.jsx)(f.a,{className:t.mainContentWrapper,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",alignContent:"center",m:8,children:Object(c.jsx)(W,{onClose:function(){D("newProcess"),x()}})})})]})]}),Object(c.jsx)(N.a,{item:!0,xs:!1,lg:2}),Object(c.jsx)(N.a,{item:!0,xs:v?5:8,lg:v?4:8,children:E?Object(c.jsx)(f.a,{className:t.queryProgressWrapper,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",children:Object(c.jsx)(K.a,{className:t.queryProgress,size:"40%"})}):Object(c.jsx)(J.a,{className:t.list,children:Object(c.jsx)(V.a,{className:t.toggleButtonGroup,value:v,onChange:function(e,t){C(t)},exclusive:!0,orientation:"vertical",children:b.map((function(e){return Object(c.jsx)(Y.a,{className:t.toggleButton,value:e,children:Object(c.jsx)(G.a,{className:t.listItem,disableGutters:!0,children:Object(c.jsx)($,{shortened:!!v,highlighted:!!v&&v.id==e.id,process:e})})},e.id)}))})})}),v?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Q.a,{in:!!v,children:Object(c.jsx)(N.a,{item:!0,xs:6,lg:5,children:Object(c.jsx)(f.a,{className:t.processDetailsWrapper,children:Object(c.jsx)(te,{process:v,onClose:k,onDelete:function(){fetch("/processo/"+v.id,{method:"DELETE"}).then(k).then((function(){return S("deletionSnackbar")})).then(x)},onEdit:function(){return S("editProcess")}})})})}),Object(c.jsx)(g.a,{open:B.editProcess,onClose:function(){return D("editProcess")},children:Object(c.jsx)(f.a,{className:t.mainContentWrapper,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",alignContent:"center",m:8,children:Object(c.jsx)(W,{process:v,onClose:function(){D("editProcess"),x()}})})})]}):null,Object(c.jsx)(U.a,{className:t.deletionSnackbar,autoHideDuration:3e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:B.deletionSnackbar,onClose:function(){return D("deletionSnackbar")},children:Object(c.jsx)(f.a,{className:t.deletionSnackbar,children:Object(c.jsx)(m.a,{className:t.snackbarText,align:"center",children:"Processo removido"})})})]})})};Object(l.c)({models:{processo:l.b},factories:{processo:l.a.extend({numero:function(){return"SOFT "+new Date(d.a.date.past()).getFullYear().toString()+"/"+b(5).format(d.a.random.number())},entrada:function(){return new Date(d.a.date.past()).toLocaleDateString("pt-BR")},descricao:function(){return d.a.random.words(u(60)+60)},assunto:function(){return d.a.random.words(u(5)+2)},interessados:function(){return new Array(u(6)+1).fill(1).map((function(){return d.a.name.findName()}))}})},routes:function(){this.post("/processo",(function(e,t){var n=JSON.parse(t.requestBody);return e.processos.create(Object(i.a)(Object(i.a)({},n),{},{numero:"SOFT "+new Date(d.a.date.past()).getFullYear().toString()+"/"+b(5).format(d.a.random.number()),entrada:new Date(d.a.date.past()).toLocaleDateString("pt-BR")}))})),this.get("/processo/:id",(function(e,t){return e.processos.find(t.params.id)})),this.get("/processo",(function(e,t){var n=t.queryParams.q;return e.processos.where((function(e){return Object.values(e).some((function(e){return e.includes(n)}))}))})),this.delete("/processo/:id",(function(e,t){return e.processos.find(t.params.id).destroy()})),this.patch("/processo/:id",(function(e,t){var n=JSON.parse(t.requestBody);return e.processos.find(t.params.id).update(n)}))},seeds:function(e){e.createList("processo",u(40))}});var ae=function(){return Object(c.jsx)(x.a,{children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/consulta",children:Object(c.jsx)(ce,{})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(H,{})})]})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1462)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ae,{})}),document.getElementById("root")),se()}},[[1410,1,2]]]);
//# sourceMappingURL=main.0ae46a6a.chunk.js.map